\usepackage{mdframed, booktabs, tcolorbox, listings, verbatim}
\usepackage[scaled]{beramono}

% change colors
\usepackage{color}
\definecolor{title}{RGB}{222,45,38}
\definecolor{greyone}{RGB}{77,77,77}
\definecolor{lightgrey}{rgb}{0.9,0.9,0.9}

\setbeamercolor{palette quaternary}{fg=white,bg=shadecolor}

% colors from book
\definecolor{function}{RGB}{61,196,226}
\definecolor{code}{RGB}{54,204,255}
\definecolor{titleline}{RGB}{251,65,40} 
\definecolor{title}{RGB}{251,65,40} 
\definecolor{concept}{RGB}{251,65,40} 
\definecolor{lines}{RGB}{242,243,245} 
\definecolor{shadecolor}{RGB}{246, 246, 246}
\definecolor{text}{RGB}{50, 50, 50} 

%\setbeamercolor{block title}{fg=title}
\setbeamercolor{local structure}{fg=gray}
\setbeamercolor{section in toc}{fg=title}
\setbeamercolor{subsection in toc}{fg=title}
\setbeamercolor{frametitle}{fg=title}
\setbeamercolor{title}{fg=title, bg=white}
\setbeamercolor{title page}{fg=text}
\setbeamercolor{titlepage}{bg=text}

% change margins
\setbeamersize{text margin left=.85cm}
\setbeamersize{text margin right=.85cm} 

% center and raise frame titles
\setbeamertemplate{frametitle}[default][center]
\addtobeamertemplate{frametitle}{\bfseries \vskip+3.5ex}{\vskip-3.5ex}

% change looks of quotes
\usepackage{framed}
\usepackage{xcolor}
\let\oldquote=\quote
\let\endoldquote=\endquote
\colorlet{shadecolor}{shadecolor}
\renewenvironment{quote}{\begin{shaded*}\vspace{-.3cm}\begin{oldquote}}{\end{oldquote}\end{shaded*}}

% change default sizes
\setbeamerfont{frametitle}{size=\large}
\setbeamerfont{title}{size=\large}
\setbeamertemplate{itemize/enumerate body begin}{\normalsize}
\setbeamertemplate{itemize/enumerate subbody begin}{\normalsize}
\setbeamertemplate{itemize/enumerate subsubbody begin}{\normalsize}

% change separation around quotes?
% \usepackage{etoolbox} 
% \makeatletter 
% \preto{\@verbatim}{\topsep=-7pt \partopsep=-7pt } 
% \makeatother

% get rid of navigation symbols
\beamertemplatenavigationsymbolsempty

% ignore characters that are not beamer ready
\DeclareUnicodeCharacter{00A0}{ }

% Multicolumn slide
\def\begincols{\begin{columns}}
\def\begincol{\begin{column}}
\def\endcol{\end{column}}
\def\endcols{\end{columns}}

% for dags and trees
\usepackage{pgf,tikz}
\usepackage{qtree, wasysym}
\usepackage{tikz}
\usepackage{tikz-qtree}

% try to change separation in stuff
% \setlength{\emergencystretch}{3em}  % prevent overfull lines
% \renewcommand{\tightlist}{%
%   \vspace{.001cm}
%   \setlength{\itemsep}{6pt}\setlength{\parskip}{0pt}}
% \setcounter{secnumdepth}{0}

% fu command for functions
% \usepackage{xpatch}
% \renewcommand{\ttdefault}{ul9}
% \xpatchcmd{\ttfamily}{\selectfont}{\fontencoding{T1}\selectfont}{}{}
% \DeclareTextCommand{\nobreakspace}{T1}{\leavevmode\nobreak\ }
% \newcommand{\reducedstrut}{\vrule width 0pt height .9\ht\strutbox depth .9\dp\strutbox\relax}

% verbatim sans
%\usepackage{fancyvrb}
% %\lstset{fancyvrb=true,basicstyle=\sffamily,columns=flexible}
% % 
% % % if verbatim is written lowercase!!
%\makeatletter
%\def\verbatim@font{\sffamily}
%\makeatother

\setlength{\OuterFrameSep}{-3pt}
\makeatletter
\preto{\@verbatim}{\topsep=-10pt \partopsep=0.1cm }
\makeatother

% create new commands
\newcommand{\bit}{ 
\vspace{-.1cm}\begin{itemize}[-] \setlength\itemsep{-0.03cm}}
\newcommand{\eit}{\end{itemize}}
\newcommand{\ben}{ 
\vspace{-.1cm}\begin{enumerate}[(i)] \setlength\itemsep{-0.03cm}}
\newcommand{\een}{\end{enumerate}}
\newcommand{\rspace}{\vspace{-.25cm}}
\newcommand{\textspace}{\vspace{.45cm}}
\newcommand{\nl}{\vspace{.3cm}\noindent}

% change font
\usepackage[math]{iwona}
\usepackage[T1]{fontenc}
\usepackage{sansmath} % Enables turning on sans-serif math mode, and using other environments
\sansmath % Enable sans-serif math for rest of document
\usepackage[math]{blindtext}

%% changing default text color
\makeatletter
\newcommand{\globalcolor}[1]{%
  \color{#1}\global\let\default@color\current@color
}
\makeatother
\AtBeginDocument{\globalcolor{black}}

% change colors of R chuncks
% \renewcommand{\KeywordTok}[1]{\color{code}{#1}}
% \renewcommand{\DecValTok}[1]{\color{code}{#1}}
% \renewcommand{\CommentTok}[1]{\color{gray}{#1}}
% \renewcommand{\DocumentationTok}[1]{\color{gray}{#1}}
% \renewcommand{\StringTok}[1]{\color{code}{#1}}
% \renewcommand{\NormalTok}[1]{\color{code}{#1}}
% \renewcommand{\FloatTok}[1]{\color{code}{#1}}
% \renewcommand{\OtherTok}[1]{\color{code}{#1}}
% \renewcommand{\DataTypeTok}[1]{\color{code}{#1}}
% \renewcommand{\OperatorTok}[1]{\color{code}{#1}}
% \renewcommand{\ControlFlowTok}[1]{\color{code}{#1}}
% \renewcommand{\FunctionTok}[1]{\color{code}{#1}}
% \renewcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{#1}}
% \renewcommand{\AttributeTok}[1]{\color{code}{#1}}
% \renewcommand{\SpecialCharTok}[1]{\color{code}{#1}}
\newcommand{\fu}[1]{\color{blue}{\textbf{\texttt{#1}}}\color{black}} 

\newcommand{\concept}[1]{\color{concept}\textbf{#1}\color{black}}

\usepackage{amsmath,amssymb}
\newcommand{\tip}[1]{\uppercase{#1}}

\usepackage{array, calc}
\usepackage{colortbl}

% Hyperlink coloring
\definecolor{links}{HTML}{2A1B81}
\hypersetup{colorlinks,linkcolor=,urlcolor=links}

\newcommand\pN{N}
\newcommand\pE{\mathop{{}\mathbb{E}}}
\newcommand\pV{\mathop{{}\mathbb{V}}}